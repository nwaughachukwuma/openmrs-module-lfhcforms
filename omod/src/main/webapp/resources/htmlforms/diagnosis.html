<htmlform formUuid="90344e16-94ff-4ecf-b9c2-71930aab8c67" formName="Diagnosis" formEncounterType="3dbd13da-f210-4f20-a5b4-536a92e81474" formVersion="0.4">


<script type="text/javascript">
	if(jQuery){
		jQuery(document).ready(function(){

			jQuery('#10-addEntry').remove();
			for (var i=1 ; i &lt; 10 ; i++) {

				jQuery("#"+i+"01-removeEntry").remove();
				jQuery("#"+i+"01-toggleContainer").show();
			}
			jQuery('#11-removeEntry').remove();
			jQuery('#20-addEntry').remove();
			jQuery('#11-toggleContainer').show();

		});


		jQuery(document).ready(function(){

			jQuery('i.addEntry').live("click", function(){
				var correctedAddButtonId = parseFloat(this.id) + 1;

				var contentAddId = "#" + correctedAddButtonId + "-toggleContainer";
				jQuery(contentAddId).toggle(true);
				jQuery('#' + this.id).toggle(false); jQuery('#' + parseFloat(this.id) + '-removeEntry').toggle(false);
				return false;});
		});

		jQuery(document).ready(function(){
			jQuery('i.removeEntry').live("click", function(){
				var correctedRemoveButtonId = parseFloat(this.id) - 1;
				var contentAddId = "#" + parseFloat(this.id) + "-toggleContainer";
				jQuery(contentAddId).toggle(false);
				jQuery( ':input:not(:button)', contentAddId).val([]);
				jQuery('#' + correctedRemoveButtonId + '-addEntry').toggle(true); jQuery('#' + correctedRemoveButtonId + '-removeEntry').toggle(true);

				return false;});

		});
	}
</script>


<div class="hidden" id="who-when-where">
	<p id="who">
		<label>
			<uimessage code="coreapps.patientDashBoard.provider" />
		</label>
		<span>
			<encounterProvider default="currentUser" required="true" />
		</span>
	</p>
	<p id="when">
		<label>
			<uimessage code="coreapps.patientDashBoard.location" />
		</label>
		<span>
			<encounterLocation default="SessionAttribute:emrContext.sessionLocationId" />
		</span>
	</p>
	<p id="where">
		<label>
			<uimessage code="coreapps.patientDashBoard.date" />
		</label>
		<span>
			<encounterDate id="encounterDate" default="now" />
		</span>
	</p>
</div>
<style type="text/css">
	.tg {
		table-layout: fixed;
		width: 70%;
		margin-left: 10px;
	}
</style>

<section id="diagnosis" sectionTag="section" headerStyle="title" headerCode="Diagnosis">
	<fieldset field-separator=", ">

		<legend>Diagnoses</legend>
		<h3>Diagnoses</h3>

		<repeat>
			<template>

				<div id="{n}-toggleContainer" style="display:none;">
					<obsgroup groupingConceptId="CIEL:159947">
						<table class="tg">
							<tbody>
								<tr>
									<td>
										Diagnosis classification	
									</td>
									<td>
										<p>
											<obs conceptId="CIEL:159946"/>
										</p>
									</td>
								</tr>
								<tr>
									<td>
										Diagnosis		
									</td>
									<td>
										<p>
											<obs conceptId="CIEL:1284" answerClasses="Diagnosis" style="autocomplete"/>
										</p>
									</td>
								</tr>
								<tr>
									<td>
										Diagnosis certainty
									</td>
									<td>
										<p>
											<obs conceptId="CIEL:159394" answerConceptIds="CIEL:159393,CIEL:159392"/>
										</p>
									</td>

								</tr>
								<tr>
									<td colspan="2" style="text-align:right;">
										<i id="{n}-addEntry" class="addEntry icon-">&#xf067;</i>
										<i id="{n}-removeEntry" class="removeEntry icon-">&#xf00d;</i>
									</td>
								</tr>
							</tbody>
						</table>


						<p>


						</p>

						<br/>

					</obsgroup>
				</div>

			</template>
			<render n="201"/>
			<render n="202"/>
			<render n="203"/>
		</repeat>


	</fieldset>

</section>

<submit/>
</htmlform>					